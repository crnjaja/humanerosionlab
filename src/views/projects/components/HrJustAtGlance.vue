<template>
  <div class="hrjust-content">
    <section class="wp6-wrap" aria-label="WP6 content">
      <!-- WP6 overview card (logos + intro) -->
      <article class="wp6-overview-card">
        <div class="wp6-overview-head">
          <div class="wp6-overview-icon">
            <i class="fas fa-leaf" aria-hidden="true"></i>
          </div>
          <div class="wp6-overview-titles">
            <h4 class="wp6-overview-title">WP 6 - climate</h4>
          </div>
        </div>

        <div class="wp6-logos" aria-label="WP6 partner logos">
          <img src="/images/logos/unibe.png" alt="University of Bern" loading="lazy" />
          <img
            src="/images/logos/prague.png"
            alt="Institute of International Relations of Prague"
            loading="lazy"
          />
          <img src="/images/logos/trento.png" alt="University of Trento" loading="lazy" />
        </div>

        <p class="wp6-overview-text">
          WP6, dedicated to climate issues, has three participants: the
          <strong>University of Bern</strong> (UNIBE), the
          <strong>Institute of International Relations of Prague</strong> (IIR), and the
          <strong>University of Trento</strong> (UNITN). These partners conduct research across
          several sub-areas, detailed below, and the developed tool showcases the outcomes of their
          work within this work package.
        </p>
      </article>

      <!-- 3-column cards -->
      <section class="wp6-cards" aria-label="WP6 pillars">
        <!-- Card 1 -->
        <article class="wp6-card">
          <img
            src="/images/tiles/climate-change.jpg"
            alt="Climate Litigation"
            class="wp6-image"
            loading="lazy"
          />

          <h4 class="wp6-card-title">Climate Litigation</h4>

          <p class="wp6-card-text">
            Work Package 6 analyzes how climate change and human rights intersect at various
            governance levels: international, regional, and national. The visual tool captures this
            multi-layered approach, integrating key legal frameworks, including international trade
            and investment law. It presents a structured and accessible overview of relevant case
            law and proceedings that shape the evolving landscape of global climate litigation.
            These include:
          </p>

          <div class="wp6-timeline" aria-label="Climate litigation areas">
            <div class="timeline-step">
              <i class="fas fa-globe" aria-hidden="true"></i>
              <span>International Advisory Opinion Proceedings</span>
            </div>

            <div class="separator plus"><i class="fas fa-plus" aria-hidden="true"></i></div>

            <div class="timeline-step">
              <i class="fas fa-scale-balanced" aria-hidden="true"></i>
              <span>WTO Case Law</span>
            </div>

            <div class="separator plus"><i class="fas fa-plus" aria-hidden="true"></i></div>

            <div class="timeline-step">
              <i class="fas fa-handshake" aria-hidden="true"></i>
              <span>Investment Arbitration Case Law</span>
            </div>

            <div class="separator plus"><i class="fas fa-plus" aria-hidden="true"></i></div>

            <div class="timeline-step">
              <i class="fas fa-university" aria-hidden="true"></i>
              <span>European Case Law</span>
            </div>

            <div class="separator plus"><i class="fas fa-plus" aria-hidden="true"></i></div>

            <div class="timeline-step">
              <i class="fas fa-gavel" aria-hidden="true"></i>
              <span>National Case Law</span>
            </div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="wp6-card">
          <img
            src="/images/tiles/law.jpg"
            alt="Human Rights Justification"
            class="wp6-image"
            loading="lazy"
          />

          <h4 class="wp6-card-title">Human Rights Justification</h4>

          <p class="wp6-card-text">
            At the heart of WP6 is the systematic classification of human rights justifications,
            described in detail within the project’s methodology. Human rights serve as a
            foundational reference point throughout all research activities, and this typology
            supports a shared analytical lens across the entire HRJust project.
          </p>

          <p class="wp6-card-text">Development will follow...</p>
        </article>

        <!-- Card 3 -->
        <article class="wp6-card">
          <img
            src="/images/tiles/civilsociety.jpg"
            alt="Civil Society Engagement"
            class="wp6-image"
            loading="lazy"
          />

          <h4 class="wp6-card-title">Civil Society Engagement</h4>

          <p class="wp6-card-text">
            WP6 also places strong emphasis on the participatory dimension of climate and human
            rights research. It investigates how civil society actors contribute to shaping legal
            and policy outcomes through active engagement. This aspect is explored through a series
            of structured interactions and feedback loops, including the following initiatives
            carried out within the Ongoing Direct Civil Society Engagement (ODCSE) methodology:
          </p>

          <div class="wp6-timeline" aria-label="ODCSE initiatives">
            <a
              class="doc-link"
              href="https://www.hrjust-climate-claims.eu/documents/Workshop Prague_27 May 2024_report for D7.8.pdf"
              target="_blank"
              rel="noopener"
            >
              <div class="timeline-step">
                <i class="fas fa-chalkboard-teacher" aria-hidden="true"></i>
                <span>First Workshop</span>
              </div>
            </a>

            <div class="separator arrow"><i class="fas fa-arrow-down" aria-hidden="true"></i></div>

            <a
              class="doc-link"
              href="https://www.hrjust-climate-claims.eu/documents/WP6_Interviews_Report_Workng paper.pdf"
              target="_blank"
              rel="noopener"
            >
              <div class="timeline-step">
                <i class="fas fa-microphone-alt" aria-hidden="true"></i>
                <span>Interviews</span>
              </div>
            </a>

            <div class="separator arrow"><i class="fas fa-arrow-down" aria-hidden="true"></i></div>

            <a
              class="doc-link"
              href="https://www.hrjust-climate-claims.eu/documents/Webinar_23 January 2025_report for D7.8.pdf"
              target="_blank"
              rel="noopener"
            >
              <div class="timeline-step">
                <i class="fas fa-users" aria-hidden="true"></i>
                <span>Second Workshop</span>
              </div>
            </a>

            <div class="separator arrow"><i class="fas fa-arrow-down" aria-hidden="true"></i></div>

            <div class="timeline-step">
              <i class="fas fa-poll" aria-hidden="true"></i>
              <span>Research Survey</span>
            </div>

            <div class="separator arrow"><i class="fas fa-arrow-down" aria-hidden="true"></i></div>

            <a
              class="doc-link"
              href="https://www.hrjust-climate-claims.eu/documents/WP6_ODCSE Report.pdf"
              target="_blank"
              rel="noopener"
            >
              <div class="timeline-step">
                <i class="fas fa-file-alt" aria-hidden="true"></i>
                <span>ODCSE Report</span>
              </div>
            </a>
          </div>
        </article>
      </section>
    </section>
  </div>
</template>

<script setup>
/**
 * Pure presentational component (WP6 content):
 * - Reuses the same “card language” as your compact HRJust page (square corners, hover lift, top gradient block)
 * - No JS required (links open in new tab)
 */
</script>

<style scoped>
/* -------------------------------------------------------------------------- */
/* Base tokens: keep EXACTLY the same ones you used in the compact page        */
/* -------------------------------------------------------------------------- */
.hrjust-content {
  --accent: var(--hrjust-accent-3, #002d47);
  --accent-top-a: rgba(0, 45, 71, 0.16);
  --accent-top-b: rgba(0, 45, 71, 0.06);

  --card: #ffffff;
  --border-soft: rgba(10, 34, 59, 0.08);
  --border: rgba(10, 34, 59, 0.12);
  --shadow: 0 1px 0 rgba(10, 34, 59, 0.04), 0 10px 22px rgba(10, 34, 59, 0.06);
  --shadow-hover: 0 2px 0 rgba(10, 34, 59, 0.05), 0 16px 34px rgba(10, 34, 59, 0.1);

  color: #333;
}

/* -------------------------------------------------------------------------- */
/* Header (keeps your existing WP6 snapshot header structure)                  */
/* -------------------------------------------------------------------------- */
.hrjust-content__head {
  margin-bottom: 18px;
}

.hrjust-content__kicker {
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(0, 45, 71, 0.72);
  margin-bottom: 6px;
}

.hrjust-content__title {
  margin: 0;
  color: #002d47;
}

/* -------------------------------------------------------------------------- */
/* Layout wrapper                                                              */
/* -------------------------------------------------------------------------- */
.wp6-wrap {
  display: grid;
  gap: 18px;
}

/* -------------------------------------------------------------------------- */
/* Reusable “HRJust card” style (same as your mini cards / WHO / WPs)          */
/* -------------------------------------------------------------------------- */
.wp6-overview-card,
.wp6-card {
  background: var(--card);
  border: 1px solid var(--border-soft);
  box-shadow: var(--shadow);
  padding: 18px;
  position: relative;
  transition:
    transform 180ms ease,
    box-shadow 180ms ease,
    border-color 180ms ease;
}

.wp6-overview-card::after,
.wp6-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 54px;
  background: linear-gradient(90deg, var(--accent-top-a), var(--accent-top-b));
  border-bottom: 1px solid var(--border-soft);
  pointer-events: none;
}

.wp6-overview-card:hover,
.wp6-card:hover {
  transform: translateY(-2px);
  border-color: var(--border);
  box-shadow: var(--shadow-hover);
}

/* ensure content sits above the gradient block */
.wp6-overview-card > *,
.wp6-card > * {
  position: relative;
  z-index: 1;
}

/* -------------------------------------------------------------------------- */
/* Overview head (icon + title)                                                */
/* -------------------------------------------------------------------------- */
.wp6-overview-head {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-top: 8px;
  margin-bottom: 12px;
}

.wp6-overview-icon {
  width: 38px;
  height: 38px;
  display: grid;
  place-items: center;
  background: #ffffff;
  border: 1px solid #e6e6e6;
}

.wp6-overview-icon i {
  font-size: 18px;
  color: #002d47;
}

.wp6-overview-title {
  margin: 0;
  color: #002d47;
  line-height: 1.15;
}

.wp6-overview-subtitle {
  margin: 4px 0 0 0;
  font-size: 13px;
  color: #555;
}

/* Logos row */
.wp6-logos {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 18px;
  margin: 10px 0 14px 0;
  flex-wrap: wrap;
}

.wp6-logos img {
  height: 50px;
  width: auto;
  object-fit: contain;
  border-radius: 0;
  display: block;
}

/* Overview text */
.wp6-overview-text {
  margin: 0;
  font-size: 14px;
  color: #555;
  line-height: 1.6;
  text-align: justify;
}

/* -------------------------------------------------------------------------- */
/* Cards grid                                                                  */
/* -------------------------------------------------------------------------- */
.wp6-cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;
}

/* Image inside card (square corners, like your system) */
.wp6-image {
  width: 100%;
  height: 220px;
  object-fit: cover;
  border-radius: 0;
  display: block;
  border: 1px solid rgba(10, 34, 59, 0.06);
  margin-top: 6px;
}

.wp6-card-title {
  margin: 12px 0 8px 0;
  color: #002d47;
}

.wp6-card-text {
  margin: 0 0 10px 0;
  font-size: 14px;
  color: #555;
  line-height: 1.6;
  text-align: justify;
}

/* -------------------------------------------------------------------------- */
/* Timeline block (adapted, but kept compact + modern)                         */
/* -------------------------------------------------------------------------- */
.wp6-timeline {
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.timeline-step {
  display: flex;
  flex-direction: column; /* ICON ABOVE TEXT */
  align-items: center; /* horizontal centering */
  text-align: center;
  gap: 6px;

  font-size: 13px;
  font-weight: 700;
  color: #002d47;
  line-height: 1.35;
}

.timeline-step span {
  text-align: center;
}

.timeline-step i {
  font-size: 18px;
  color: #8a0a2c;
  margin-top: 1px;
}

.separator {
  display: grid;
  place-items: center;
  font-size: 12px;
  color: #8a0a2c;
}

.separator.plus {
  animation: pulsePlus 1.2s ease-in-out infinite;
}

.separator.arrow {
  animation: bounceDown 1.2s ease-in-out infinite;
}

@keyframes pulsePlus {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.35);
    opacity: 0.7;
  }
}

@keyframes bounceDown {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(6px);
  }
  60% {
    transform: translateY(3px);
  }
}

/* Links for doc steps (same behavior you had) */
.doc-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.doc-link .timeline-step {
  cursor: pointer;
}

.doc-link:hover .timeline-step {
  text-decoration: underline;
  text-decoration-color: #8a0a2c;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
}

/* -------------------------------------------------------------------------- */
/* Responsive                                                                  */
/* -------------------------------------------------------------------------- */
@media (max-width: 1100px) {
  .wp6-cards {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 768px) {
  .wp6-cards {
    grid-template-columns: 1fr;
  }

  .wp6-image {
    height: 200px;
  }
}
</style>
